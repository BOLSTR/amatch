<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: Amatch::PairDistance</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/amatch/version_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/amatch/version.rb">lib/amatch/version.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#M000026">::new</a></li>
					
					<li><a href="#M000029">#match</a></li>
					
					<li><a href="#M000027">#pattern</a></li>
					
					<li><a href="#M000028">#pattern=</a></li>
					
					<li><a href="#M000059">#similar</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../doc-main_txt.html">doc-main.txt</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../Amatch.html">Amatch</a></li>
				
					<li><a href="../Amatch/Hamming.html">Amatch::Hamming</a></li>
				
					<li><a href="../Amatch/Jaro.html">Amatch::Jaro</a></li>
				
					<li><a href="../Amatch/JaroWinkler.html">Amatch::JaroWinkler</a></li>
				
					<li><a href="../Amatch/Levenshtein.html">Amatch::Levenshtein</a></li>
				
					<li><a href="../Amatch/LongestSubsequence.html">Amatch::LongestSubsequence</a></li>
				
					<li><a href="../Amatch/LongestSubstring.html">Amatch::LongestSubstring</a></li>
				
					<li><a href="../Amatch/PairDistance.html">Amatch::PairDistance</a></li>
				
					<li><a href="../Amatch/Sellers.html">Amatch::Sellers</a></li>
				
					<li><a href="../String.html">String</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">Amatch::PairDistance</h1>

		<div id="description">
			<p>
The pair distance between two strings is based on the number of adjacent
character pairs, that are contained in both strings. The similiarity metric
of two strings s1 and s2 is
</p>
<pre>
  2*|union(pairs(s1), pairs(s2))| / |pairs(s1)| + |pairs(s2)|
</pre>
<p>
If it is 1.0 the two strings are an exact match, if less than 1.0 they are
more dissimilar. The advantage of considering adjacent characters, is to
take account not only of the characters, but also of the character ordering
in the original strings.
</p>
<p>
This metric is very capable to find similarities in natural languages. It
is explained in more detail in Simon White&#8217;s article &#8220;How to
Strike a Match&#8221;, located at this url: <a
href="http://www.catalysoft.com/articles/StrikeAMatch.html">www.catalysoft.com/articles/StrikeAMatch.html</a>
It is also very similar (a special case) to the method described under <a
href="http://citeseer.lcs.mit.edu/gravano01using.html">citeseer.lcs.mit.edu/gravano01using.html</a>
in &#8220;Using q-grams in a DBMS for Approximate <a
href="../String.html">String</a> Processing.&#8220;
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="new-method" class="method-detail ">
				<a name="M000026"></a>

				<div class="method-heading">
				
					<span class="method-callseq">new(pattern)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Creates a new <a href="PairDistance.html">Amatch::PairDistance</a> instance
from <tt>pattern</tt>.
</p>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
static VALUE rb_PairDistance_initialize(VALUE self, VALUE pattern)
{
    GET_STRUCT(PairDistance)
    PairDistance_pattern_set(amatch, pattern);
    return self;
}</pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="match-method" class="method-detail ">
				<a name="M000029"></a>

				<div class="method-heading">
				
					<span class="method-callseq">match(strings, regexp = /\s+/) &rarr; results</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Uses this <a href="PairDistance.html">Amatch::PairDistance</a> instance to
match <a href="PairDistance.html#M000027">PairDistance#pattern</a> against
<tt>strings</tt>. It returns the pair distance measure, that is a returned
value of 1.0 is an exact match, partial matches are lower values, while 0.0
means no match at all.
</p>
<p>
<tt>strings</tt> has to be either a <a href="../String.html">String</a> or
an Array of Strings. The argument <tt>regexp</tt> is used to split the
pattern and strings into tokens first. It defaults to /s+/. If the
splitting should be omitted, call the method with nil as <tt>regexp</tt>
explicitly.
</p>
<p>
The returned <tt>results</tt> are either a Float or an Array of Floats
respectively.
</p>
					

					
					<div class="method-source-code"
						id="match-source">
<pre>
static VALUE rb_PairDistance_match(int argc, VALUE *argv, VALUE self)
{                                                                            
    VALUE result, strings, regexp = Qnil;
    int use_regexp;
    GET_STRUCT(PairDistance)

    rb_scan_args(argc, argv, &quot;11&quot;, &amp;strings, &amp;regexp);
    use_regexp = NIL_P(regexp) &amp;&amp; argc != 2;
    if (TYPE(strings) == T_STRING) {
        result = PairDistance_match(amatch, strings, regexp, use_regexp);
    } else {
        Check_Type(strings, T_ARRAY);
        int i;
        result = rb_ary_new2(RARRAY_LEN(strings));
        for (i = 0; i &lt; RARRAY_LEN(strings); i++) {
            VALUE string = rb_ary_entry(strings, i);
            if (TYPE(string) != T_STRING) {
                rb_raise(rb_eTypeError,
                    &quot;array has to contain only strings (%s given)&quot;,
                    NIL_P(string) ?
                        &quot;NilClass&quot; :
                        rb_class2name(CLASS_OF(string)));
            }
            rb_ary_push(result,
                PairDistance_match(amatch, string, regexp, use_regexp));
        }
    }
    pair_array_destroy(amatch-&gt;pattern_pair_array);
    amatch-&gt;pattern_pair_array = NULL;
    return result;
}</pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="PairDistance.html#M000059">similar</a>
				</div>
				
			</div>

		
			<div id="pattern-method" class="method-detail ">
				<a name="M000027"></a>

				<div class="method-heading">
				
					<span class="method-callseq">pattern &rarr; pattern string</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns the current pattern string of this instance.
</p>
					

					
				</div>

				
			</div>

		
			<div id="pattern--method" class="method-detail ">
				<a name="M000028"></a>

				<div class="method-heading">
				
					<span class="method-callseq">pattern=(pattern)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Sets the current pattern string of this instance to <tt>pattern</tt>.
</p>
					

					
				</div>

				
			</div>

		
			<div id="similar-method" class="method-detail method-alias">
				<a name="M000059"></a>

				<div class="method-heading">
				
					<span class="method-name">similar</span><span
						class="method-args">(...)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Alias for <a href="PairDistance.html#M000029">match</a>
</p>
					

					
				</div>

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

